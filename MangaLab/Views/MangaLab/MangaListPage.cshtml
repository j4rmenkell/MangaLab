@{
    Layout = "~/Views/Shared/_MangaLabLayout.cshtml";
}

<div class="container p-5">
    <h1 class="boldonse-regular text-white fs-1 fw-bold mt-5 mb-3 d-inline-block pb-1 border-bottom border-5 border-danger">MANGA LIST</h1>

    <div class="d-flex">

        <div class="dropdown me-3">
            <button class="dropbutton btn dropdown-toggle border-3 border-white fw-semibold" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span class="mx-3">{{ selectedGenre || 'GENRE' }}</span>
            </button>
            <ul class="dropdown-menu dropdown-menu-dark">
                <li><a class="dropdown-item" href="#" ng-click="selectedGenre = null; loadManga()">All</a></li>
                <li><a class="dropdown-item" href="#" ng-click="selectedGenre = 'Action'; loadManga()">Action</a></li>
                <li><a class="dropdown-item" href="#" ng-click="selectedGenre = 'Comedy'; loadManga()">Comedy</a></li>
                <li><a class="dropdown-item" href="#" ng-click="selectedGenre = 'Romance'; loadManga()">Romance</a></li>
                <li><a class="dropdown-item" href="#" ng-click="selectedGenre = 'Mystery'; loadManga()">Mystery</a></li>
                <li><a class="dropdown-item" href="#" ng-click="selectedGenre = 'Horror'; loadManga()">Horror</a></li>
                <li><a class="dropdown-item" href="#" ng-click="selectedGenre = 'Sci-Fi'; loadManga()">Sci-Fi</a></li>
                <li><a class="dropdown-item" href="#" ng-click="selectedGenre = 'Fantasy'; loadManga()">Fantasy</a></li>
            </ul>
        </div>

        <div class="dropdown me-3">
            <button class="dropbutton btn dropdown-toggle border-3 border-white fw-semibold" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span class="mx-3">{{ selectedStatus || 'STATUS' }}</span>
            </button>
            <ul class="dropdown-menu dropdown-menu-dark">
                <li><a class="dropdown-item" href="#" ng-click="selectedStatus = null; loadManga()">All</a></li>
                <li><a class="dropdown-item" href="#" ng-click="selectedStatus = 'Completed'; loadManga()">Completed</a></li>
                <li><a class="dropdown-item" href="#" ng-click="selectedStatus = 'Ongoing'; loadManga()">Ongoing</a></li>
                <li><a class="dropdown-item" href="#" ng-click="selectedStatus = 'One-Shot'; loadManga()">One-Shot</a></li>
            </ul>
        </div>

        <div class="dropdown">
            <button class="dropbutton btn dropdown-toggle border-3 border-white fw-semibold" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span class="mx-3">{{ selectedOrderLabel || 'SORT BY' }}</span>
            </button>
            <ul class="dropdown-menu dropdown-menu-dark">
                <li><a class="dropdown-item" href="#" ng-click="setOrder('order[followedCount]=desc', 'Most Follows')">Most Follows</a></li>
                <li><a class="dropdown-item" href="#" ng-click="setOrder('order[latestUploadedChapter]=desc', 'Latest Upload')">Latest Upload</a></li>
                <li><a class="dropdown-item" href="#" ng-click="setOrder('order[rating]=desc', 'Best Rating')">Best Rating</a></li>
                <li><a class="dropdown-item" href="#" ng-click="setOrder('order[title]=asc', 'Title (A-Z)')">Title (A-Z)</a></li>
                <li><a class="dropdown-item" href="#" ng-click="setOrder('order[title]=desc', 'Title (Z-A)')">Title (Z-A)</a></li>
            </ul>
        </div>
    </div>

    <div ng-init="loadManga()">

        <div ng-if="isLoading" class="text-center text-white mt-5">
            <h4>Loading manga...</h4>
        </div>

        @* Manga List *@
        <div ng-if="!isLoading" class="row row-cols-2 row-cols-sm-3 row-cols-md-5 g-3 mt-3">

            <div class="col" ng-repeat="manga in mangaList">
                <a class="text-decoration-none" ng-click="redirectToManga(manga)">
                    <div class="card h-100 bg-transparent border-0">
                        <div class="image-container manga-card">
                            <img ng-src="{{ manga.coverUrl }}" class="card-img-top rounded-1 manga-cover" alt="{{ manga.attributes.title.en }}">
                        </div>
                        <div class="card-body text-center">
                            <h6 class="card-title text-white roboto fw-bold manga-title">{{ manga.displayTitle }}</h6>

                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>

</div>